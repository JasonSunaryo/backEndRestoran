<main>
  <%- include('layout/Header') %>
  <%- include('layout/Navbar') %>

    <article>
      <section class="hero text-center" aria-label="home" id="home">

        <ul class="hero-slider" data-hero-slider>

          <li class="slider-item active" data-hero-slider-item>

            <div class="slider-bg">
              <img src="/images/hero-slider-1.jpg" width="1880" height="950" alt="" class="img-cover">
            </div>

            <p class="label-2 section-subtitle slider-reveal">Premium dinner with your friends!</p>
            <p class="label-2 section-subtitle slider-reveal">Welcome <%= user.name %></p>
            <h1 class="display-1 hero-title slider-reveal">
              Have a great time <br>
              with your family
            </h1>

            <p class="body-2 hero-text slider-reveal">
              Go together with your friends for unforgettable experiences
            </p>

            <a href="#" class="btn btn-primary slider-reveal">
              <span class="text text-1">View Our Menu</span>

              <span class="text text-2" aria-hidden="true">View Our Menu</span>
            </a>

          </li>

          <li class="slider-item" data-hero-slider-item>

            <div class="slider-bg">
              <img src="/images/hero-slider-2.jpg" width="1880" height="950" alt="" class="img-cover">
            </div>

            <p class="label-2 section-subtitle slider-reveal">Wonderful times</p>

            <h1 class="display-1 hero-title slider-reveal">
              Flavors Inspired by <br>
              the Seasons
            </h1>

            <p class="body-2 hero-text slider-reveal">
              Go together with your friends for unforgettable experiences
            </p>

            <a href="#" class="btn btn-primary slider-reveal">
              <span class="text text-1">View Our Menu</span>

              <span class="text text-2" aria-hidden="true">View Our Menu</span>
            </a>

          </li>

          <li class="slider-item" data-hero-slider-item>

            <div class="slider-bg">
              <img src="/images/hero-slider-3.jpg" width="1880" height="950" alt="" class="img-cover">
            </div>

            <p class="label-2 section-subtitle slider-reveal">Unforgettable experience</p>

            <h1 class="display-1 hero-title slider-reveal">
              Fresh from the sea <br>
             
            </h1>

            <p class="body-2 hero-text slider-reveal">
              Go together with your friends for unforgettable experiences
            </p>

            <a href="#" class="btn btn-primary slider-reveal">
              <span class="text text-1">View Our Menu</span>

              <span class="text text-2" aria-hidden="true">View Our Menu</span>
            </a>

          </li>

        </ul>

        <button class="slider-btn prev" aria-label="slide to previous" data-prev-btn>
          <ion-icon name="chevron-back"></ion-icon>
        </button>

        <button class="slider-btn next" aria-label="slide to next" data-next-btn>
          <ion-icon name="chevron-forward"></ion-icon>
        </button>

        <a href="/dashboard" class="hero-btn has-after">
          <img src="/images/hero-icon.png" width="48" height="48" alt="booking icon">

          <span class="label-2 text-center span">Change account</span>
        </a>

      </section>




<!-- 
    - #MENU
  -->

  <section class="section menu" aria-label="menu-label" id="menu" ng-app="myApp" ng-controller="CounterController">
    <div class="container">
  
      <p class="section-subtitle text-center label-2">Special Selection</p>
      
  
      <h2 class="headline-1 section-title text-center">Delicious Menu</h2>
  
      <a href="/add">Add Menu</a>
  
      <% if (message) { %>
        <div class="alert alert-dismissable fade show alert-<%= message.type %>" role="alert">
          <button class="btn-close" type="button" data-bs-dismiss="alert" aria-label="Close"></button>
          <strong><%= message.message %></strong>
        </div>
      <% } %>
  
      <ul class="grid-list2">
        <% menus.forEach((menu, index) => { %>
          <li class="product">
            <div class="menu-card hover:card">
              <figure class="card-bannerr img-holder" style="background-image: url('<%= menu.image %>');">
              </figure>
              
              <div class="menu-info flex-container">
                <div class="title-wrapper2">
                  <h3 class="title-3">
                    <div class="button-group">
                      <a href="/edit/<%= menu._id %>" class="btn3 btn-sm btn-primary" title="Edit"><i class="fas fa-edit"></i></a>
                      <a href="/delete/<%= menu._id %>" class="btn3 btn-sm btn-danger" title="Delete"><i class="fas fa-trash"></i></a>
                    </div>
                    <a href="#" class="card-title"><%= menu.name %></a>
                  </h3>
                  <span class="span title-2">$<%= menu.price %></span>
                </div>
                <div class="containerPrice">
                  <div class="total2">Amount : <span id="count<%= index %>" class="count">0</span></div>
                  <button class="btn btn-sm increment" ng-click="incrementCounter(index)" data-index="<%= index %>">+</button>
                  <button class="btn btn-sm decrement" ng-click="decrementCounter(index)" data-index="<%= index %>">-</button>                
                </div>
              </div>
            </div>
          </li>
        <% }); %>
      </ul>
      

      <div ng-repeat="menu in menus">
        <div class="total2">Amount: <span id="count{{$index}}" class="count">{{menu.amount}}</span></div>
        <button class="btn increment" ng-click="incrementCounter($index)">+</button>
        <button class="btn decrement" ng-click="decrementCounter($index)">-</button>
      </div>
      
<p class="span title-2" id="total">Total: ${{ updateTotal() | number:2 }}</p>

      


      
      <p class="menu-text text-center">
        During winter daily from <span class="span">7:00 pm</span> to <span class="span">9:00 pm</span>
      </p>
  
      <a href="#" class="btn btn-primary">
        <span class="text text-1">View All Menu</span>
  
        <span class="text text-2" aria-hidden="true">View All Menu</span>
      </a>
  
      <img src="/images/shape-5.png" width="921" height="1036" loading="lazy" alt="shape" class="shape shape-2 move-anim">
      <img src="/images/shape-6.png" width="343" height="345" loading="lazy" alt="shape" class="shape shape-3 move-anim">
  
    </div>
  </section>




    </article>
    <%- include('layout/Footer') %>
  </main>
  <a href="#top" class="back-top-btn active" aria-label="back to top" data-back-top-btn>
    <ion-icon name="chevron-up" aria-hidden="true"></ion-icon>
  </a>
  <script src="script.js"></script>

  <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.8.2/angular.min.js"></script> 
  <script type="module" src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.esm.js"></script>
  <script nomodule src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.js"></script>

  <script>
angular.module('myApp', [])
.controller('CounterController', ['$scope', function($scope) {
  $scope.counts = [0, 0, 0, 0, 0, 0,0,0, 0, 0, 0, 0, 0,0]; // Array untuk menyimpan jumlah masing-masing item
  $scope.errorMessage = ["", "", "", "", "", "", "", "", "", "", "", "", "", ""]; // Array untuk menyimpan pesan kesalahan masing-masing item
  $scope.Harga = [25.50, 40.00, 10.00, 39.00, 25.00, 49.00,22.00,32.00,35.00,15.00,12.00,6.50,4.00,10.00]; // Harga masing-masing item


    $scope.incrementCounter = function(itemIndex) {
    if ($scope.counts[itemIndex] < 20) {
        $scope.counts[itemIndex]++;
        $scope.errorMessage[itemIndex] = "";
    } else {
        $scope.errorMessage[itemIndex] = "Pemesanan tidak bisa di atas 20";
    }
};

$scope.decrementCounter = function(itemIndex) {
    if ($scope.counts[itemIndex] > 0) {
        $scope.counts[itemIndex]--;
        $scope.errorMessage[itemIndex] = "";
    } else {
        $scope.errorMessage[itemIndex] = "Pemesanan tidak bisa di bawah 0";
    }
};

$scope.totalHargaItem = function(itemIndex) {
    return $scope.Harga[itemIndex] * $scope.counts[itemIndex];
};

$scope.totalHargaSemua = function() {
    var total = 0;
    for (var i = 0; i < $scope.counts.length; i++) {
        total += $scope.totalHargaItem(i);
    }
    return total;
};
}]);
  </script>

  <link rel="stylesheet" href="css/style.css">
